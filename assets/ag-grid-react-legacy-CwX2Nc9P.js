System.register(["./react-legacy-DvEsVtYb.js","./ag-grid-community-legacy-DapG474l.js"],(function(e,t){"use strict";var r,n,s,a,o,l,c,u,i,d,p,m,h,f,g,C,y,v,R,w,S,E,b,M,P,k,F,I,x,A,D,O;return{setters:[e=>{r=e.b,n=e.d,s=e.r,a=e.a},e=>{o=e._,l=e.M,c=e.a,u=e.C,i=e.A,d=e.H,p=e.b,m=e.G,h=e.c,f=e.R,g=e.d,C=e.T,y=e.e,v=e.f,R=e.g,w=e.B,S=e.V,E=e.h,b=e.i,M=e.j,P=e.F,k=e.O,F=e.k,I=e.l,x=e.m,A=e.n,D=e.o,O=e.p}],execute:function(){var t=r.createContext({}),B=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();if(null==s)return;let a,o,l=!1;return s.then((e=>{l?t.destroyBean(e):(a=e,o=a.getGui(),r.appendChild(o),G(n,a))})),()=>{l=!0,a&&(o&&o.parentElement&&o.parentElement.removeChild(o),t.destroyBean(a),n&&G(n,void 0))}},G=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},T=(...e)=>e.filter((e=>null!=e&&""!==e)).join(" "),N=class e{constructor(...e){this.classesMap={},e.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new e;return n.classesMap={...this.classesMap},n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},U=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),L=null!=n.createRoot&&null!=n.flushSync,W=!1,H=(e,t)=>{L&&e&&!W?n.flushSync(t):t()};function j(e,t,r){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(r||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const n=[],s=[],a=new Map,o=new Map;for(let l=0;l<t.length;l++){const e=t[l];o.set(e.getInstanceId(),e)}for(let l=0;l<e.length;l++){const t=e[l];a.set(t.getInstanceId(),t),o.has(t.getInstanceId())&&n.push(t)}for(let l=0;l<t.length;l++){const e=t[l],r=e.getInstanceId();a.has(r)||s.push(e)}return n.length===e.length&&0===s.length?e:0===n.length&&s.length===t.length?t:0===n.length?s:0===s.length?n:[...n,...s]}var V=s.forwardRef(((e,n)=>{const{ctrlsFactory:a,context:l}=s.useContext(t),c=s.useRef(null),u=s.useRef(null),i=s.useRef(null),d=s.useRef(null),p=s.useRef(null),m=s.useRef(),[h,f]=s.useState(),[g,C]=s.useState(),[y,v]=s.useState(),[R,w]=s.useState((()=>new N)),[S,E]=s.useState((()=>new N("ag-hidden"))),[b,M]=s.useState((()=>new N("ag-hidden"))),[P,k]=s.useState((()=>new N("ag-invisible")));s.useImperativeHandle(n,(()=>({refresh:()=>!1}))),s.useLayoutEffect((()=>B(h,l,u.current)),[h]);const F=s.useCallback((t=>{if(c.current=t,!c.current)return l.destroyBean(m.current),void(m.current=null);const r={setInnerRenderer:(e,t)=>{f(e),v(t)},setChildCount:e=>C(e),addOrRemoveCssClass:(e,t)=>w((r=>r.setClass(e,t))),setContractedDisplayed:e=>M((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>E((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>k((t=>t.setClass("ag-invisible",!e)))},n=a.getInstance("groupCellRendererCtrl");n&&(m.current=l.createBean(n),m.current.init(r,c.current,i.current,d.current,p.current,V,e))}),[]),I=s.useMemo((()=>`ag-cell-wrapper ${R.toString()}`),[R]),x=s.useMemo((()=>`ag-group-expanded ${S.toString()}`),[S]),A=s.useMemo((()=>`ag-group-contracted ${b.toString()}`),[b]),D=s.useMemo((()=>`ag-group-checkbox ${P.toString()}`),[P]),O=h&&h.componentFromFramework,G=O?h.componentClass:void 0,T=null==h&&null!=y,U=o(y,!0);return r.createElement("span",{className:I,ref:F,...e.colDef?{}:{role:m.current?.getCellAriaRole()}},r.createElement("span",{className:x,ref:d}),r.createElement("span",{className:A,ref:p}),r.createElement("span",{className:D,ref:i}),r.createElement("span",{className:"ag-group-value",ref:u},T&&r.createElement(r.Fragment,null,U),O&&r.createElement(G,{...h.params})),r.createElement("span",{className:"ag-group-child-count"},g))})),$=V,_=s.createContext({setMethods:()=>{}}),z=s.memo((e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:a,setMethods:o}=e,[l,c]=s.useState(t);return s.useEffect((()=>{n((e=>c(e)))}),[]),r.createElement(_.Provider,{value:{setMethods:o}},r.createElement(a,{...l}))})),K=0;function q(){return"agPortalKey_"+ ++K}var Q=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=q(),this.portalKey=q(),this.instanceCreated=this.isStatelessComponent()?i.resolve(!1):new i((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(c('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())&&(c('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r)return void setTimeout((()=>this.callMethod(e,t)));const n=r[e];return n?n.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new i((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=a.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return s.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[`${e}Component`]}};function Y(e,t,r){e.forEach((e=>{const n=t[e];n&&(r[e]=n)}))}var Z=class extends Q{constructor(){super(...arguments),this.awaitUpdateCallback=new i((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=z}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new i((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Y(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new i((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},J=class extends Z{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},X=class extends Z{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ee=class extends Z{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function te(e,t){e.parentFilterInstance((r=>{(r.setModel(t)||i.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var re=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Y(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),te(this.floatingFilterParams,e)}},ne=class extends Z{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),te(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},se=class extends Z{refresh(e){this.sourceParams=e,this.refreshProps()}},ae=class extends Z{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},oe=class extends Z{refresh(e){this.sourceParams=e,this.refreshProps()}},le=class extends Z{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ce=class extends Z{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function ue(){c("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var ie=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,r)}))}}},de=s.memo((e=>{const{ctrl:n}=e,a=n.isAlive(),{context:o}=s.useContext(t),l=a?n.getColId():void 0,[c,i]=s.useState(),d=s.useRef(null),p=s.useRef(null),m=s.useRef(null),h=s.useRef(),f=s.useRef();a&&!f.current&&(f.current=new u((()=>d.current)));const g=s.useCallback((e=>{if(d.current=e,!d.current||!a)return;const t={setWidth:e=>{d.current&&(d.current.style.width=e)},addOrRemoveCssClass:(e,t)=>f.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{d.current&&(e?E(d.current,e):b(d.current))},setUserCompDetails:e=>i(e),getUserCompInstance:()=>h.current||void 0};n.setComp(t,d.current,p.current,m.current);const r=n.getSelectAllGui();p.current?.insertAdjacentElement("afterend",r)}),[]);s.useLayoutEffect((()=>B(c,o,m.current,h)),[c]),s.useEffect((()=>{n.setDragSource(d.current)}),[c]);const C=s.useMemo((()=>!(!c?.componentFromFramework||!U(c.componentClass))),[c]),y=c&&c.componentFromFramework,v=c&&c.componentClass;return r.createElement("div",{ref:g,className:"ag-header-cell","col-id":l,role:"columnheader"},r.createElement("div",{ref:p,className:"ag-header-cell-resize",role:"presentation"}),r.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&C&&r.createElement(v,{...c.params}),y&&!C&&r.createElement(v,{...c.params,ref:h})))})),pe=s.memo((e=>{const{context:n,gos:a}=s.useContext(t),[o,l]=s.useState((()=>new N("ag-header-cell","ag-floating-filter"))),[c,u]=s.useState((()=>new N)),[d,p]=s.useState((()=>new N("ag-floating-filter-button","ag-hidden"))),[m,h]=s.useState("false"),[f,g]=s.useState(),[,C]=s.useState(1),y=s.useRef(null),v=s.useRef(null),R=s.useRef(null),w=s.useRef(null),S=s.useRef(),E=s.useRef(),b=e=>{null!=e&&S.current&&S.current(e)},{ctrl:M}=e,P=s.useCallback((e=>{if(y.current=e,!y.current)return;E.current=new i((e=>{S.current=e}));const t={addOrRemoveCssClass:(e,t)=>l((r=>r.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>u((r=>r.setClass(e,t))),setButtonWrapperDisplayed:e=>{p((t=>t.setClass("ag-hidden",!e))),h(e?"false":"true")},setWidth:e=>{y.current&&(y.current.style.width=e)},setCompDetails:e=>g(e),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:e=>w.current?.appendChild(e)};M.setComp(t,y.current,w.current,v.current)}),[]);s.useLayoutEffect((()=>B(f,n,v.current,b)),[f]);const k=s.useMemo((()=>o.toString()),[o]),F=s.useMemo((()=>c.toString()),[c]),I=s.useMemo((()=>d.toString()),[d]),x=s.useMemo((()=>!!(f&&f.componentFromFramework&&U(f.componentClass))),[f]),A=s.useMemo((()=>a.get("reactiveCustomComponents")),[]),D=s.useMemo((()=>{if(f){if(A){const e=new re(f.params,(()=>C((e=>e+1))));return b(e),e}f.componentFromFramework&&ue()}}),[f]),O=D?.getProps(),G=f&&f.componentFromFramework,T=f&&f.componentClass;return r.createElement("div",{ref:P,className:k,role:"gridcell"},r.createElement("div",{ref:v,className:F,role:"presentation"},G&&!A&&r.createElement(T,{...f.params,ref:x?()=>{}:b}),G&&A&&r.createElement(_.Provider,{value:{setMethods:e=>D.setMethods(e)}},r.createElement(T,{...O}))),r.createElement("div",{ref:R,"aria-hidden":m,className:I,role:"presentation"},r.createElement("button",{ref:w,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),me=s.memo((e=>{const{context:n}=s.useContext(t),{ctrl:a}=e,[o,l]=s.useState((()=>new N)),[c,u]=s.useState((()=>new N)),[i,d]=s.useState("false"),[p,m]=s.useState(),[h,f]=s.useState(),g=s.useMemo((()=>a.getColId()),[]),C=s.useRef(null),y=s.useRef(null),v=s.useRef(null),R=s.useRef(),w=s.useCallback((e=>{if(C.current=e,!C.current)return;const t={setWidth:e=>{C.current&&(C.current.style.width=e)},addOrRemoveCssClass:(e,t)=>l((r=>r.setClass(e,t))),setUserCompDetails:e=>f(e),setResizableDisplayed:e=>{u((t=>t.setClass("ag-hidden",!e))),d(e?"false":"true")},setAriaExpanded:e=>m(e),getUserCompInstance:()=>R.current||void 0};a.setComp(t,C.current,y.current,v.current)}),[]);s.useLayoutEffect((()=>B(h,n,v.current)),[h]),s.useEffect((()=>{C.current&&a.setDragSource(C.current)}),[h]);const S=s.useMemo((()=>!(!h?.componentFromFramework||!U(h.componentClass))),[h]),E=s.useMemo((()=>"ag-header-group-cell "+o.toString()),[o]),b=s.useMemo((()=>"ag-header-cell-resize "+c.toString()),[c]),M=h&&h.componentFromFramework,P=h&&h.componentClass;return r.createElement("div",{ref:w,className:E,"col-id":g,role:"columnheader","aria-expanded":p},r.createElement("div",{ref:v,className:"ag-header-cell-comp-wrapper",role:"presentation"},M&&S&&r.createElement(P,{...h.params}),M&&!S&&r.createElement(P,{...h.params,ref:R})),r.createElement("div",{ref:y,"aria-hidden":i,className:b}))})),he=s.memo((e=>{const{ctrl:t}=e,{topOffset:n,rowHeight:a}=s.useMemo((()=>t.getTopAndHeight()),[]),o=t.getAriaRowIndex(),l=t.getHeaderRowClass(),[c,u]=s.useState((()=>a+"px")),[i,p]=s.useState((()=>n+"px")),m=s.useRef(null),h=s.useRef(null),[f,g]=s.useState((()=>t.getHeaderCtrls())),C=s.useRef(null),y=s.useCallback((e=>{if(C.current=e,!e)return;const r={setHeight:e=>u(e),setTop:e=>p(e),setHeaderCtrls:(e,t,r)=>{h.current=m.current,m.current=e;const n=j(h.current,e,t);n!==h.current&&H(r,(()=>g(n)))},setWidth:e=>{C.current&&(C.current.style.width=e)}};t.setComp(r,!1)}),[]),v=s.useMemo((()=>({height:c,top:i})),[c,i]),R=s.useCallback((e=>{switch(t.getType()){case d.COLUMN_GROUP:return r.createElement(me,{ctrl:e,key:e.getInstanceId()});case d.FLOATING_FILTER:return r.createElement(pe,{ctrl:e,key:e.getInstanceId()});default:return r.createElement(de,{ctrl:e,key:e.getInstanceId()})}}),[]);return r.createElement("div",{ref:y,className:l,role:"row",style:v,"aria-rowindex":o},f.map(R))})),fe=s.memo((e=>{const[n,a]=s.useState(!0),[o,l]=s.useState([]),{context:c}=s.useContext(t),u=s.useRef(null),i=s.useRef(null),d=s.useRef(null),m="left"===e.pinned,h="right"===e.pinned,f=!m&&!h,g=s.useCallback((t=>{if(u.current=t,!u.current)return c.destroyBean(d.current),void(d.current=null);const r={setDisplayed:a,setCtrls:e=>l(e),setCenterWidth:e=>{i.current&&(i.current.style.width=e)},setViewportScrollLeft:e=>{u.current&&(u.current.scrollLeft=e)},setPinnedContainerWidth:e=>{u.current&&(u.current.style.width=e,u.current.style.minWidth=e,u.current.style.maxWidth=e)}};d.current=c.createBean(new p(e.pinned)),d.current.setComp(r,u.current)}),[]),C=n?"":"ag-hidden",y=()=>o.map((e=>r.createElement(he,{ctrl:e,key:e.getInstanceId()})));return r.createElement(r.Fragment,null,m&&r.createElement("div",{ref:g,className:"ag-pinned-left-header "+C,"aria-hidden":!n,role:"rowgroup"},y()),h&&r.createElement("div",{ref:g,className:"ag-pinned-right-header "+C,"aria-hidden":!n,role:"rowgroup"},y()),f&&r.createElement("div",{ref:g,className:"ag-header-viewport "+C,role:"presentation"},r.createElement("div",{ref:i,className:"ag-header-container",role:"rowgroup"},y())))})),ge=s.memo((()=>{const[e,n]=s.useState((()=>new N)),[a,o]=s.useState(),{context:l}=s.useContext(t),c=s.useRef(null),u=s.useRef(null),i=s.useCallback((e=>{if(c.current=e,!e)return l.destroyBean(u.current),void(u.current=null);const t={addOrRemoveCssClass:(e,t)=>n((r=>r.setClass(e,t))),setHeightAndMinHeight:e=>o(e)};u.current=l.createBean(new m),u.current.setComp(t,c.current,c.current)}),[]),d=s.useMemo((()=>"ag-header "+e.toString()),[e]),p=s.useMemo((()=>({height:a,minHeight:a})),[a]);return r.createElement("div",{ref:i,className:d,style:p,role:"presentation"},r.createElement(fe,{pinned:"left"}),r.createElement(fe,{pinned:null}),r.createElement(fe,{pinned:"right"}))})),Ce=(e,t)=>{s.useEffect((()=>{const r=t.current;if(r){const t=r.parentElement;if(t){const n=document.createComment(e);return t.insertBefore(n,r),()=>{t.removeChild(n)}}}}),[e])},ye=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new i((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Y(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},ve=s.memo((e=>{const[n,o]=s.useState(),{context:l,popupService:c,localeService:u,gos:i,editService:d}=s.useContext(t);return(e=>{const t=s.useRef(e),r=s.useRef(),n=s.useRef(!1),a=s.useRef(!1),[,o]=s.useState(0);n.current&&(a.current=!0),s.useEffect((()=>(n.current||(r.current=t.current(),n.current=!0),o((e=>e+1)),()=>{a.current&&r.current&&r.current()})),[])})((()=>{const{editDetails:t,cellCtrl:r,eParentCell:n}=e,{compDetails:s}=t,a=i.get("stopEditingWhenCellsLoseFocus"),p=l.createBean(d.createPopupEditorWrapper(s.params)),m=p.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&m.appendChild(t)}const h={column:r.getColumn(),rowNode:r.getRowNode(),type:"popupCellEditor",eventSource:n,ePopup:m,position:t.popupPosition,keepWithinBounds:!0},f=c.positionPopupByComponent.bind(c,h),g=u.getLocaleTextFunc(),C=c.addPopup({modal:a,eChild:m,closeOnEsc:!0,closedCallback:()=>{r.onPopupEditorClosed()},anchorToElement:n,positionCallback:f,ariaLabel:g("ariaLabelCellEditor","Cell Editor")}),y=C?C.hideFunc:void 0;return o(p),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{null!=y&&y(),l.destroyBean(p)}})),r.createElement(r.Fragment,null,n&&e.wrappedContent&&a.createPortal(e.wrappedContent,n.getGui()))})),Re=(e,r,n,a,o,l)=>{const{context:c}=s.useContext(t),u=s.useCallback((()=>{const e=o.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),c.destroyBean(e),o.current=void 0}),[]);s.useEffect((()=>{const t=null!=e,s=e&&e.compDetails&&!e.compDetails.componentFromFramework;if(!t||!s||r&&null==n)return void u();const a=e.compDetails;if(o.current){const t=o.current,r=!(null==t.refresh||0!=e.force)&&t.refresh(a.params);if(!0===r||void 0===r)return;u()}const c=a.newAgStackInstance();null!=c&&c.then((e=>{if(!e)return;const t=e.getGui();t&&((r?n:l.current).appendChild(t),o.current=e)}))}),[e,r,a]),s.useEffect((()=>u),[])},we=(e,t,n)=>{const s=e.compProxy;return r.createElement(r.Fragment,null,!s&&r.createElement(t,{...e.compDetails.params,ref:n}),s&&((e,t,n)=>{const{compProxy:s}=e;n(s);const a=s.getProps(),o=U(t);return r.createElement(_.Provider,{value:{setMethods:e=>s.setMethods(e)}},o&&r.createElement(t,{...a}),!o&&r.createElement(t,{...a,ref:e=>s.setRef(e)}))})(e,t,n))},Se=s.memo((e=>{const{context:n}=s.useContext(t),{cellCtrl:a,printLayout:o,editingRow:l}=e,c=a.getColumnIdSanitised(),i=a.getInstanceId(),[d,p]=s.useState((()=>a.isCellRenderer()?void 0:{compDetails:void 0,value:a.getValueToDisplay(),force:!1})),[m,h]=s.useState(),[f,g]=s.useState(1),[C,y]=s.useState(),[v,R]=s.useState(!1),[w,S]=s.useState(!1),[E,b]=s.useState(!1),[P,k]=s.useState(),F=s.useMemo((()=>a.isForceWrapper()),[a]),I=s.useMemo((()=>a.getCellAriaRole()),[a]),x=s.useRef(null),A=s.useRef(null),D=s.useRef(),O=s.useRef(),B=s.useRef(),G=s.useRef([]),T=s.useRef(),[N,L]=s.useState(0),W=s.useCallback((e=>{T.current=e,L((e=>e+1))}),[]),H=F||null!=d&&(v||E||w),j=s.useCallback(((e,t)=>{O.current=t,t&&t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout((()=>{a.stopEditing(!0),a.focusCell(!0)}))}),[a]),V=s.useCallback((e=>j(!0,e)),[j]),$=s.useCallback((e=>j(!1,e)),[j]),_=s.useRef();_.current||(_.current=new u((()=>x.current))),Re(d,H,T.current,N,D,x);const z=s.useRef();s.useLayoutEffect((()=>{const e=z.current,t=d;if(z.current=d,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const r=e.compDetails,n=t.compDetails;r.componentClass==n.componentClass&&null!=A.current&&null!=A.current.refresh&&1!=A.current.refresh(n.params)&&g((e=>e+1))}),[d]),s.useLayoutEffect((()=>{if(!m||m.compDetails.componentFromFramework)return;const e=m.compDetails,t=!0===m.popup,r=e.newAgStackInstance();return r.then((e=>{if(!e)return;const r=e.getGui();if(j(t,e),!t){const t=(F?B:x).current;t?.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached()}k(e)})),()=>{r.then((e=>{const r=e.getGui();n.destroyBean(e),j(t,void 0),k(void 0),r&&r.parentElement&&r.parentElement.removeChild(r)}))}}),[m]);const K=s.useCallback((e=>{if(B.current=e,!B.current)return G.current.forEach((e=>e())),void(G.current=[]);const t=e=>{if(e){const t=e.getGui();B.current?.insertAdjacentElement("afterbegin",t),G.current.push((()=>{n.destroyBean(e),M(t)}))}return e};v&&t(a.createSelectionCheckbox()),E&&t(a.createDndSource()),w&&t(a.createRowDragComp())}),[a,n,E,w,v]),q=s.useCallback((e=>{if(x.current=e,!x.current)return;if(!a)return;const t={addOrRemoveCssClass:(e,t)=>_.current.addOrRemoveCssClass(e,t),setUserStyles:e=>y(e),getFocusableElement:()=>x.current,setIncludeSelection:e=>R(e),setIncludeRowDrag:e=>S(e),setIncludeDndSource:e=>b(e),getCellEditor:()=>O.current||null,getCellRenderer:()=>A.current?A.current:D.current,getParentOfValue:()=>T.current?T.current:B.current?B.current:x.current,setRenderDetails:(e,t,r)=>{p((n=>n?.compDetails!==e||n?.value!==t||n?.force!==r?{value:t,compDetails:e,force:r}:n))},setEditDetails:(e,t,r,n)=>{if(e){let s;n?s=new ye(e.params,(()=>g((e=>e+1)))):e.componentFromFramework&&ue(),h({compDetails:e,popup:t,popupPosition:r,compProxy:s}),t||p(void 0)}else h((e=>{e?.compProxy&&(O.current=void 0)}))}},r=B.current||void 0;a.setComp(t,x.current,r,o,l)}),[]),Q=s.useMemo((()=>!!(d&&d.compDetails&&d.compDetails.componentFromFramework&&U(d.compDetails.componentClass))),[d]);s.useLayoutEffect((()=>{x.current&&(_.current.addOrRemoveCssClass("ag-cell-value",!H),_.current.addOrRemoveCssClass("ag-cell-inline-editing",!!m&&!m.popup),_.current.addOrRemoveCssClass("ag-cell-popup-editing",!!m&&!!m.popup),_.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!m||!!m.popup),a.getRowCtrl()?.setInlineEditingCss(),a.shouldRestoreFocus()&&!a.isEditing()&&x.current.focus({preventScroll:!0}))}));const Y=()=>r.createElement(r.Fragment,null,null!=d&&((e,t,n,s,a,o,l)=>{const{compDetails:c,value:u}=e,i=!c,d=c&&c.componentFromFramework,p=c&&c.componentClass,m=u?.toString?u.toString():u,h=()=>r.createElement(r.Fragment,null,i&&r.createElement(r.Fragment,null,m),d&&!o&&r.createElement(p,{...c.params,key:t,ref:s}),d&&o&&r.createElement(p,{...c.params,key:t}));return r.createElement(r.Fragment,null,a?r.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:l},h()):h())})(d,f,i,A,H,Q,W),null!=m&&((e,t,n,s,a,o)=>{const l=e.compDetails,c=l.componentClass,u=l.componentFromFramework&&!e.popup,i=l.componentFromFramework&&e.popup,d=!l.componentFromFramework&&e.popup;return r.createElement(r.Fragment,null,u&&we(e,c,t),i&&r.createElement(ve,{editDetails:e,cellCtrl:a,eParentCell:s,wrappedContent:we(e,c,n)}),d&&o&&r.createElement(ve,{editDetails:e,cellCtrl:a,eParentCell:s,jsChildComp:o}))})(m,$,V,x.current,a,P)),Z=s.useCallback((()=>a.onFocusOut()),[]);return r.createElement("div",{ref:q,style:C,role:I,"col-id":c,onBlur:Z},H?r.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},Y()):Y())})),Ee=s.memo((e=>{const{context:n,gos:a}=s.useContext(t),{rowCtrl:o,containerType:l}=e,c=s.useRef(o.getDomOrder()),i=o.isFullWidth(),d=o.getRowNode().displayed,[p,m]=s.useState((()=>d?o.getRowIndex():null)),[h,f]=s.useState((()=>o.getRowId())),[g,C]=s.useState((()=>o.getBusinessKey())),[y,v]=s.useState((()=>o.getRowStyles())),R=s.useRef(null),w=s.useRef(null),[S,E]=s.useState((()=>null)),[b,M]=s.useState(),[P,k]=s.useState((()=>d?o.getInitialRowTop(l):void 0)),[F,I]=s.useState((()=>d?o.getInitialTransform(l):void 0)),x=s.useRef(null),A=s.useRef(),D=s.useRef(!1),[O,G]=s.useState(0);s.useEffect((()=>{if(D.current)return;if(!b)return;if(O>10)return;const e=x.current?.firstChild;e?(o.setupDetailRowAutoHeight(e),D.current=!0):G((e=>e+1))}),[b,O]);const T=s.useRef();T.current||(T.current=new u((()=>x.current)));const N=s.useCallback((e=>{if(x.current=e,!x.current)return void o.unsetComp(l);if(!o.isAlive())return;const t={setTop:k,setTransform:I,addOrRemoveCssClass:(e,t)=>T.current.addOrRemoveCssClass(e,t),setDomOrder:e=>c.current=e,setRowIndex:m,setRowId:f,setRowBusinessKey:C,setUserStyles:v,setCellCtrls:(e,t)=>{w.current=R.current,R.current=e;const r=j(w.current,e,c.current);r!==w.current&&H(t,(()=>E(r)))},showFullWidth:e=>M(e),getFullWidthCellRenderer:()=>A.current,refreshFullWidth:e=>_.current?(M((t=>({...t,params:e()}))),!0):!(!A.current||!A.current.refresh)&&A.current.refresh(e())};o.setComp(t,x.current,l)}),[]);s.useLayoutEffect((()=>B(b,n,x.current,A)),[b]);const L=s.useMemo((()=>{const e={top:P,transform:F};return Object.assign(e,y),e}),[P,F,y]),W=i&&b&&b.componentFromFramework,V=!i&&null!=S,$=s.useMemo((()=>!(!b?.componentFromFramework||!U(b.componentClass))),[b]),_=s.useRef(!1);return s.useEffect((()=>{_.current=$&&!!b&&!!a.get("reactiveCustomComponents")}),[$,b]),r.createElement("div",{ref:N,role:"row",style:L,"row-index":p,"row-id":h,"row-business-key":g},V&&S?.map((e=>r.createElement(Se,{cellCtrl:e,editingRow:o.isEditing(),printLayout:o.isPrintLayout(),key:e.getInstanceId()}))),W&&(()=>{const e=b.componentClass;return r.createElement(r.Fragment,null,$&&r.createElement(e,{...b.params}),!$&&r.createElement(e,{...b.params,ref:A}))})())})),be=s.memo((e=>{const{context:n}=s.useContext(t),{name:a}=e,o=s.useMemo((()=>h(a)),[a]),l=s.useRef(null),c=s.useRef(null),u=s.useRef([]),i=s.useRef([]),[d,p]=s.useState((()=>[])),m=s.useRef(!1),g=s.useRef(),C=s.useMemo((()=>T(o.viewport)),[o]),y=s.useMemo((()=>T(o.container)),[o]),v="center"===o.type;Ce(" AG Row Container "+a+" ",v?l:c);const R=s.useCallback((()=>v?null!=l.current&&null!=c.current:null!=c.current),[]),w=s.useCallback((()=>v?null==l.current&&null==c.current:null==c.current),[]),S=s.useCallback((()=>{if(w()&&(n.destroyBean(g.current),g.current=null),R()){const e=e=>{const t=j(i.current,u.current,m.current);t!==i.current&&(i.current=t,H(e,(()=>p(t))))},t={setHorizontalScroll:e=>{l.current&&(l.current.scrollLeft=e)},setViewportHeight:e=>{l.current&&(l.current.style.height=e)},setRowCtrls:({rowCtrls:t,useFlushSync:r})=>{const n=!!r&&u.current.length>0&&t.length>0;u.current=t,e(n)},setDomOrder:t=>{m.current!=t&&(m.current=t,e(!1))},setContainerWidth:e=>{c.current&&(c.current.style.width=e)},setOffsetTop:e=>{c.current&&(c.current.style.transform=`translateY(${e})`)}};g.current=n.createBean(new f(a)),g.current.setComp(t,c.current,l.current)}}),[R,w]),E=s.useCallback((e=>{c.current=e,S()}),[S]),b=s.useCallback((e=>{l.current=e,S()}),[S]),M=()=>r.createElement("div",{className:y,ref:E,role:"rowgroup"},d.map((e=>r.createElement(Ee,{rowCtrl:e,containerType:o.type,key:e.getInstanceId()}))));return r.createElement(r.Fragment,null,v?r.createElement("div",{className:C,ref:b,role:"presentation"},M()):M())})),Me=s.memo((()=>{const{context:e,resizeObserverService:n}=s.useContext(t),[a,o]=s.useState(""),[l,c]=s.useState(0),[i,d]=s.useState(0),[p,m]=s.useState("0px"),[h,f]=s.useState("0px"),[C,y]=s.useState("100%"),[v,R]=s.useState("0px"),[w,S]=s.useState("0px"),[E,b]=s.useState("100%"),[M,A]=s.useState(""),[D,O]=s.useState(""),[B,G]=s.useState(null),[N,U]=s.useState(""),[L,W]=s.useState(null),[H,j]=s.useState("ag-layout-normal"),V=s.useRef();V.current||(V.current=new u((()=>$.current)));const $=s.useRef(null),_=s.useRef(null),z=s.useRef(null),K=s.useRef(null),q=s.useRef(null),Q=s.useRef(null),Y=s.useRef(null),Z=s.useRef([]),J=s.useRef([]);Ce(" AG Grid Body ",$),Ce(" AG Pinned Top ",_),Ce(" AG Sticky Top ",z),Ce(" AG Middle ",Q),Ce(" AG Pinned Bottom ",Y);const X=s.useCallback((t=>{if($.current=t,!$.current)return e.destroyBeans(Z.current),J.current.forEach((e=>e())),Z.current=[],void(J.current=[]);if(!e)return;const r=(e,t)=>{e.appendChild(t),J.current.push((()=>e.removeChild(t)))},s=(t,n,s)=>{r(t,document.createComment(s)),r(t,(t=>{const r=e.createBean(new t);return Z.current.push(r),r})(n).getGui())};s($.current,P," AG Fake Horizontal Scroll "),s($.current,k," AG Overlay Wrapper "),q.current&&s(q.current,F," AG Fake Vertical Scroll ");const a={setRowAnimationCssOnBodyViewport:o,setColumnCount:e=>{$.current&&I($.current,e)},setRowCount:e=>{$.current&&x($.current,e)},setTopHeight:c,setBottomHeight:d,setStickyTopHeight:m,setStickyTopTop:f,setStickyTopWidth:y,setTopDisplay:A,setBottomDisplay:O,setColumnMovingCss:(e,t)=>V.current.addOrRemoveCssClass(e,t),updateLayoutClasses:j,setAlwaysVerticalScrollClass:G,setPinnedTopBottomOverflowY:U,setCellSelectableCss:(e,t)=>W(t?e:null),setBodyViewportWidth:e=>{Q.current&&(Q.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(Q.current){const t=n.observeResize(Q.current,e);J.current.push((()=>t()))}},setStickyBottomHeight:R,setStickyBottomBottom:S,setStickyBottomWidth:b},l=e.createBean(new g);Z.current.push(l),l.setComp(a,$.current,Q.current,_.current,Y.current,z.current,K.current)}),[]),ee=s.useMemo((()=>T("ag-root","ag-unselectable",H)),[H]),te=s.useMemo((()=>T("ag-body-viewport",a,H,B,L)),[a,H,B,L]),re=s.useMemo((()=>T("ag-body",H)),[H]),ne=s.useMemo((()=>T("ag-floating-top",L)),[L]),se=s.useMemo((()=>T("ag-sticky-top",L)),[L]),ae=s.useMemo((()=>T("ag-sticky-bottom","0px"===v?"ag-hidden":null,L)),[L,v]),oe=s.useMemo((()=>T("ag-floating-bottom",L)),[L]),le=s.useMemo((()=>({height:l,minHeight:l,display:M,overflowY:N})),[l,M,N]),ce=s.useMemo((()=>({height:p,top:h,width:C})),[p,h,C]),ue=s.useMemo((()=>({height:v,bottom:w,width:E})),[v,w,E]),ie=s.useMemo((()=>({height:i,minHeight:i,display:D,overflowY:N})),[i,D,N]),de=e=>r.createElement(be,{name:e,key:`${e}-container`}),pe=({section:e,children:t,className:n,style:s})=>r.createElement("div",{ref:e,className:n,role:"presentation",style:s},t.map(de));return r.createElement("div",{ref:X,className:ee,role:"treegrid"},r.createElement(ge,null),pe({section:_,className:ne,style:le,children:["topLeft","topCenter","topRight","topFullWidth"]}),r.createElement("div",{className:re,ref:q,role:"presentation"},pe({section:Q,className:te,children:["left","center","right","fullWidth"]})),pe({section:z,className:se,style:ce,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),pe({section:K,className:ae,style:ue,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),pe({section:Y,className:oe,style:ie,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),Pe=s.forwardRef(((e,n)=>{const{children:a,eFocusableElement:o,onTabKeyDown:l,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:u}=e,{context:i}=s.useContext(t),d=s.useRef(null),p=s.useRef(null),m=s.useRef(),h=e=>{const t=null==e?void 0:parseInt(e,10).toString();[d,p].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};s.useImperativeHandle(n,(()=>({forceFocusOutOfContainer(e){m.current?.forceFocusOutOfContainer(e)}})));const f=s.useCallback((()=>{if(!d.current&&!p.current)return i.destroyBean(m.current),void(m.current=null);if(d.current&&p.current){const e={setTabIndex:h};m.current=i.createBean(new C({comp:e,eTopGuard:d.current,eBottomGuard:p.current,eFocusableElement:o,onTabKeyDown:l,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:e=>c.focusInnerElement(e)}))}}),[]),g=s.useCallback((e=>{d.current=e,f()}),[f]),y=s.useCallback((e=>{p.current=e,f()}),[f]),v=e=>{const t="top"===e?A.TAB_GUARD_TOP:A.TAB_GUARD_BOTTOM;return r.createElement("div",{className:`${A.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?g:y})};return r.createElement(r.Fragment,null,v("top"),a,v("bottom"))})),ke=s.memo(Pe),Fe=s.memo((({context:e})=>{const[n,a]=s.useState(""),[o,l]=s.useState(""),[c,u]=s.useState(null),[i,d]=s.useState(null),[p,m]=s.useState(!1),[h,f]=s.useState(),g=s.useRef(null),C=s.useRef(null),v=s.useRef(),[R,w]=s.useState(null),S=s.useRef((()=>{})),E=s.useRef(),b=s.useRef([]),M=s.useCallback((()=>{}),[]),P=s.useMemo((()=>e.isDestroyed()?null:e.getBeans()),[e]);Ce(" AG Grid ",C);const k=s.useCallback((t=>{if(C.current=t,!C.current)return e.destroyBean(g.current),void(g.current=null);if(e.isDestroyed())return;g.current=e.createBean(new y);const r=g.current;S.current=r.focusInnerElement.bind(r);const n={destroyGridUi:()=>{},setRtlClass:a,forceFocusOutOfContainer:e=>{e||!E.current?.isDisplayed()?v.current?.forceFocusOutOfContainer(e):E.current.forceFocusOutOfContainer(e)},updateLayoutClasses:l,getFocusableContainers:()=>{const e=[],t=C.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),b.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:u,setUserSelect:d};r.setComp(n,C.current,C.current),m(!0)}),[]);s.useEffect((()=>{if(!(h&&P&&g.current&&R&&C.current))return;const t=g.current,r=[],{watermarkSelector:n,paginationSelector:s,sideBarSelector:a,statusBarSelector:o,gridHeaderDropZonesSelector:l}=t.getOptionalSelectors(),c=[],u=C.current;if(l){const t=e.createBean(new l.component),n=t.getGui();u.insertAdjacentElement("afterbegin",n),c.push(n),r.push(t)}if(a){const t=e.createBean(new a.component),n=t.getGui(),s=R.querySelector(".ag-tab-guard-bottom");s&&(s.insertAdjacentElement("beforebegin",n),c.push(n)),r.push(t),b.current.push(t)}const i=t=>{const n=e.createBean(new t),s=n.getGui();return u.insertAdjacentElement("beforeend",s),c.push(s),r.push(n),n};if(o&&i(o.component),s){const e=i(s.component);E.current=e,b.current.push(e)}return n&&i(n.component),()=>{e.destroyBeans(r),c.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)}))}}),[h,R,P]);const F=s.useMemo((()=>T("ag-root-wrapper",n,o)),[n,o]),I=s.useMemo((()=>T("ag-root-wrapper-body","ag-focus-managed",o)),[o]),x=s.useMemo((()=>({userSelect:null!=i?i:"",WebkitUserSelect:null!=i?i:"",cursor:null!=c?c:""})),[i,c]),A=s.useCallback((e=>{v.current=e,f(null!==e)}),[]);return r.createElement("div",{ref:k,className:F,style:x,role:"presentation"},r.createElement("div",{className:I,ref:w,role:"presentation"},p&&R&&P&&r.createElement(t.Provider,{value:P},r.createElement(ke,{ref:A,eFocusableElement:R,onTabKeyDown:M,gridCtrl:g.current,forceFocusOutWhenTabGuardsAreEmpty:!0},r.createElement(Me,null)))))})),Ie=class extends O{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},xe=e=>{const t=s.useRef(),n=s.useRef(null),a=s.useRef(null),o=s.useRef([]),l=s.useRef([]),c=s.useRef(e),u=s.useRef(),i=s.useRef(!1),[d,p]=s.useState(void 0),[,m]=s.useState(0),h=s.useCallback((r=>{if(n.current=r,!n.current)return o.current.forEach((e=>e())),void(o.current.length=0);const s=e.modules||[];a.current||(a.current=new ie((()=>m((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push((()=>{a.current?.destroy(),a.current=null})));const c=v(e.gridOptions,e),d=L?new Oe:new Be((()=>{if(i.current){const e=()=>u.current?.shouldQueueUpdates()?void 0:l.current.shift();let t=e();for(;t;)t(),t=e()}}));u.current=d;const h=new Ie,f={providedBeanInstances:{frameworkComponentWrapper:new Ae(a.current,c.reactiveCustomComponents??!0),renderStatusService:h},modules:s,frameworkOverrides:d},g=new D;t.current=g.create(n.current,c,(r=>{p(r),r.createBean(h),o.current.push((()=>{r.destroy()})),r.getBean("ctrlsService").whenReady((()=>{if(r.isDestroyed())return;const n=t.current;n&&e.setGridApi&&e.setGridApi(n)}))}),(e=>{e.getBean("ctrlsService").whenReady((()=>{l.current.forEach((e=>e())),l.current.length=0,i.current=!0}))}),f)}),[]),f=s.useMemo((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),g=s.useCallback((e=>{i.current&&!u.current?.shouldQueueUpdates()?e():l.current.push(e)}),[]);return s.useEffect((()=>{const r=function(e,t){const r={};return Object.keys(t).forEach((n=>{const s=t[n];e[n]!==s&&(r[n]=s)})),r}(c.current,e);c.current=e,g((()=>{t.current&&R(r,t.current)}))}),[e]),r.createElement("div",{style:f,className:e.className,ref:h},d&&!d.isDestroyed()?r.createElement(Fe,{context:d}):null,a.current?.getPortals()??null)},Ae=class extends w{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(e=>{switch(e){case"filter":return ee;case"floatingFilterComponent":return ne;case"dateComponent":return X;case"loadingOverlayComponent":return se;case"noRowsOverlayComponent":return oe;case"statusPanel":return le;case"toolPanel":return ce;case"menuItem":return ae;case"cellRenderer":return J}})(t.propertyName);if(r)return new r(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":ue()}const r=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new Q(e,this.parent,t,r)}},De=s.forwardRef(((e,n)=>{const{ctrlsFactory:a,context:o,gos:u,resizeObserverService:i,rowModel:d}=s.useContext(t),[p,m]=s.useState((()=>new N)),[h,f]=s.useState((()=>new N)),[g,C]=s.useState(),[y,v]=s.useState(),R=s.useRef(),w=s.useRef(null),S=s.useRef(),E=s.useMemo((()=>l.__getGridRegisteredModules(e.api.getGridId())),[e]),b=s.useMemo((()=>p.toString()+" ag-details-row"),[p]),M=s.useMemo((()=>h.toString()+" ag-details-grid"),[h]);n&&s.useImperativeHandle(n,(()=>({refresh:()=>R.current?.refresh()??!1}))),e.template&&c("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const P=s.useCallback((t=>{if(w.current=t,!w.current)return o.destroyBean(R.current),void(S.current&&S.current());const r={addOrRemoveCssClass:(e,t)=>m((r=>r.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>f((r=>r.setClass(e,t))),setDetailGrid:e=>C(e),setRowData:e=>v(e),getGui:()=>w.current},n=a.getInstance("detailCellRenderer");if(n&&(o.createBean(n),n.init(r,e),R.current=n,u.get("detailRowAutoHeight"))){const t=()=>{if(null==w.current)return;const t=w.current.clientHeight;null!=t&&t>0&&setTimeout((()=>{e.node.setRowHeight(t),("clientSide"===d.getType()||"serverSide"===d.getType())&&d.onRowHeightChanged()}),0)};S.current=i.observeResize(w.current,t),t()}}),[]),k=s.useCallback((e=>{R.current?.registerDetailWithMaster(e)}),[]);return r.createElement("div",{className:b,ref:P},g&&r.createElement(xe,{className:M,...g,modules:E,rowData:y,setGridApi:k}))})),Oe=class extends S{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:$,agGroupRowRenderer:$,agDetailCellRenderer:De},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(r=e,W||setTimeout((()=>W=!1),0),W=!0,r()):e();var r},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},Be=class extends Oe{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}};e("A",class extends s.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return r.createElement(xe,{...this.props,setGridApi:this.setGridApi})}})}}}));
